<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGBA2</title>
</head>
<body>
    <h1>RGBA to RGB to HEX Converter</h1>
    <label for="rInput">R:</label>
    <input type="number" id="rInput" min="0" max="255" value="255"><br>

    <label for="gInput">G:</label>
    <input type="number" id="gInput" min="0" max="255" value="255"><br>

    <label for="bInput">B:</label>
    <input type="number" id="bInput" min="0" max="255" value="255"><br>

    <label for="aInput">A:</label>
    <input type="number" id="aInput" min="0" max="1" step="0.01" value="1"><br>

    <button onclick="convert()">Convert</button><br><br>

    <div id="output"></div>

    <script>
        function convertToHex(decimalValue) {
            let hexValue = decimalValue.toString(16);
            return hexValue.length == 1 ? "0" + hexValue : hexValue;
        }

        function rgbaToRgb(rgba) {
            let [r, g, b, a] = rgba;
            let alpha = a || 1; // default alpha value is 1 if not provided
            let rValue = Math.round((1 - alpha) * 255 + alpha * r);
            let gValue = Math.round((1 - alpha) * 255 + alpha * g);
            let bValue = Math.round((1 - alpha) * 255 + alpha * b);
            return [rValue, gValue, bValue];
        }

        function rgbaToHex(rgba) {
            let [r, g, b] = rgba;
            let hexR = convertToHex(r);
            let hexG = convertToHex(g);
            let hexB = convertToHex(b);
            return `#${hexR}${hexG}${hexB}`;
        }

        function convert() {
            let r = parseInt(document.getElementById("rInput").value);
            let g = parseInt(document.getElementById("gInput").value);
            let b = parseInt(document.getElementById("bInput").value);
            let a = parseFloat(document.getElementById("aInput").value);

            let rgbaArray = [r, g, b, a];
            let rgbArray = rgbaToRgb(rgbaArray);
            let hexCode = rgbaToHex(rgbArray);

            let outputDiv = document.getElementById("output");
            outputDiv.innerHTML = `
                <p>입력한 RGBA 코드: ${rgbaArray}</p>
                <p>변환된 RGB 코드: ${rgbArray}</p>
                <p>변환된 HEX 코드: ${hexCode}</p>
            `;
        }
    </script>
</body>
</html>
